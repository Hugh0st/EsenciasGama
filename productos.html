<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cat√°logo ‚Äî Filtros por categor√≠a</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="catalogo.css" />
</head>
<body>
  <!-- Header simplificado (puedes enlazar a tus otras vistas) -->
  <header class="site-header">
    <div class="container header__inner">
      <a class="brand" href="index.html">
        <img src="logo_gama.png" class="brand__logo" alt="GM Armon√≠a">
        <span class="brand__name">Esencias Gama</span>
      </a>
      <nav class="nav">
        <a class="pill" href="/nosotros.html">Nosotros</a>
        <a class="pill pill--current" href="productos.html">Cat√°logo</a>
        <a class="pill" href="/contacto.html">Contacto</a>
      </nav>
    </div>
  </header>

  <main>
    <!-- Hero con imagen tenue -->
    <section class="hero hero--soft">
      <div class="container hero__wrap">
        <h1 class="hero__title">Qu√≠micos & Aromas</h1>
        <p class="hero__desc">
          Filtra por categor√≠a o busca por nombre para encontrar r√°pidamente lo que necesitas.
        </p>
      </div>
    </section>

    <!-- Barra de filtros -->
    <section class="filters">
      <div class="container filters__grid">
        <!-- B√∫squeda -->
        <label class="search">
          <span class="search__icon" aria-hidden="true">üîé</span>
          <input id="q" type="search" placeholder="Buscar producto, p. ej. acetato, lavanda, c√≠trico‚Ä¶" />
        </label>

        <!-- Chips de categor√≠a (puedes agregar/quitar) -->
        <div class="chips" role="group" aria-label="Filtrar por categor√≠a">
          <button class="chip is-active" data-filter="all">Todo</button>
          <button class="chip" data-filter="aceites">Aceites</button>
          <button class="chip" data-filter="fragancias">Fragancias</button>
          <button class="chip" data-filter="alcalinos">Alcalinos</button>
          <button class="chip" data-filter="acidos">√Åcidos</button>
          <button class="chip" data-filter="solventes">Solventes</button>
        </div>

        <!-- Orden -->
        <label class="sort">
          <span>Ordenar por:</span>
          <select id="sort">
            <option value="az">Nombre (A‚ÄìZ)</option>
            <option value="za">Nombre (Z‚ÄìA)</option>
          </select>
        </label>
      </div>
    </section>

    <!-- Cat√°logo -->
    <section class="catalogo">
      <div class="container">
        <div id="count" class="count">Mostrando 0 productos</div>

        <div id="grid" class="grid">
          <!-- Tarjetas de ejemplo. Duplica/modifica seg√∫n tu inventario.
               data-cat admite varias categor√≠as separadas por espacio -->
          <article class="card" data-name="Acetato de amilo" data-cat="acidos solventes">
            <div class="card__badges"><span class="badge">√Åcido</span><span class="badge">Solvente</span></div>
            <h3 class="card__title">Acetato de amilo</h3>
            <p class="card__meta">CAS: 628-63-7</p>
            <a class="card__cta" href="/producto/acetato-de-amilo.html">Ver ficha</a>
          </article>

          <article class="card" data-name="Aceite esencial de lavanda" data-cat="aceites fragancias">
            <div class="card__badges"><span class="badge">Aceite</span><span class="badge">Fragancia</span></div>
            <h3 class="card__title">Aceite esencial de lavanda</h3>
            <p class="card__meta">Origen: Francia ¬∑ 100% puro</p>
            <a class="card__cta" href="/producto/aceite-lavanda.html">Ver ficha</a>
          </article>

          <article class="card" data-name="Limoneno" data-cat="fragancias solventes">
            <div class="card__badges"><span class="badge">Fragancia</span><span class="badge">Solvente</span></div>
            <h3 class="card__title">Limoneno</h3>
            <p class="card__meta">Notas c√≠tricas ¬∑ USP</p>
            <a class="card__cta" href="/producto/limoneno.html">Ver ficha</a>
          </article>

          <article class="card" data-name="Hidr√≥xido de sodio" data-cat="alcalinos">
            <div class="card__badges"><span class="badge">Alcalino</span></div>
            <h3 class="card__title">Hidr√≥xido de sodio</h3>
            <p class="card__meta">NaOH ¬∑ Perlas/Hojuela</p>
            <a class="card__cta" href="/producto/hidroxido-sodio.html">Ver ficha</a>
          </article>

          <article class="card" data-name="√Åcido c√≠trico anhidro" data-cat="acidos">
            <div class="card__badges"><span class="badge">√Åcido</span></div>
            <h3 class="card__title">√Åcido c√≠trico anhidro</h3>
            <p class="card__meta">USP/FCC ¬∑ Food grade</p>
            <a class="card__cta" href="/producto/acido-citrico.html">Ver ficha</a>
          </article>

          <article class="card" data-name="Etanol" data-cat="solventes">
            <div class="card__badges"><span class="badge">Solvente</span></div>
            <h3 class="card__title">Etanol</h3>
            <p class="card__meta">96¬∞ ¬∑ Desnaturalizado</p>
            <a class="card__cta" href="/producto/etanol.html">Ver ficha</a>
          </article>

          <article class="card" data-name="Aceite de eucalipto globulus" data-cat="aceites fragancias">
            <div class="card__badges"><span class="badge">Aceite</span><span class="badge">Fragancia</span></div>
            <h3 class="card__title">Aceite de eucalipto globulus</h3>
            <p class="card__meta">Notas frescas ¬∑ 1,8-cineol</p>
            <a class="card__cta" href="/producto/aceite-eucalipto.html">Ver ficha</a>
          </article>

          <article class="card" data-name="Carbonato de sodio" data-cat="alcalinos">
            <div class="card__badges"><span class="badge">Alcalino</span></div>
            <h3 class="card__title">Carbonato de sodio</h3>
            <p class="card__meta">Soda ash ¬∑ Denso/Ligero</p>
            <a class="card__cta" href="/producto/carbonato-sodio.html">Ver ficha</a>
          </article>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <small>¬© <span id="y"></span> GM Armon√≠a. Cat√°logo.</small>
    </div>
  </footer>

  <script>
    // A√±o en footer
    document.getElementById('y').textContent = new Date().getFullYear();

    // --- Filtrado b√°sico ---
    const chips = document.querySelectorAll('.chip');
    const search = document.getElementById('q');
    const grid = document.getElementById('grid');
    const cards = Array.from(grid.querySelectorAll('.card'));
    const count = document.getElementById('count');
    const sortSel = document.getElementById('sort');

    let activeCat = 'all';
    let query = '';

    function normalize(s){ return s.toLowerCase().normalize('NFD').replace(/\p{Diacritic}/gu,''); }

    function applySort(items){
      const dir = sortSel.value;
      items.sort((a,b)=>{
        const A = a.dataset.name.toLowerCase();
        const B = b.dataset.name.toLowerCase();
        return dir==='az' ? A.localeCompare(B) : B.localeCompare(A);
      });
      items.forEach(el => grid.appendChild(el));
    }

    function render(){
      let visible = 0;
      const q = normalize(query);

      cards.forEach(card=>{
        const name = normalize(card.dataset.name);
        const cats = card.dataset.cat.split(/\s+/);
        const catOK = (activeCat==='all') || cats.includes(activeCat);
        const textOK = !q || name.includes(q);

        const show = catOK && textOK;
        card.style.display = show ? '' : 'none';
        if(show) visible++;
      });

      count.textContent = `Mostrando ${visible} producto${visible===1?'':'s'}`;
      applySort(cards.filter(c=>c.style.display!=='none'));
    }

    chips.forEach(chip=>{
      chip.addEventListener('click', ()=>{
        chips.forEach(c=>c.classList.remove('is-active'));
        chip.classList.add('is-active');
        activeCat = chip.dataset.filter;
        render();
      });
    });

    search.addEventListener('input', (e)=>{ query = e.target.value; render(); });
    sortSel.addEventListener('change', render);

    // Inicial
    render();
  </script>
</body>
</html>